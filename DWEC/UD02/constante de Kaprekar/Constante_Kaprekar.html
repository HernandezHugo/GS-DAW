<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Constante de Kaprekar</title>
  </head>
  <body>
    <input id="numero" type="number" />
    <button id="btn">action</button>
    <!-- <script src="./script.js"></script> -->
    <script>
      let numero = document.getElementById("numero");
      let btn = document.getElementById("btn");
      const final_result = 6174;

      function Kaprekar(kaNum, depth) {
        if (kaNum == final_result) {
          return document.write(
            "<p> Numero Kaprekar: " + final_result + "</p>"
          );
        } else {
          depth += 1;
          //make an array from value => sort array minor to greater and greater to minor => transform arrays to a string with join => string to a Number
          let greater = Number(
            kaNum
              .split("")
              .sort((a, b) => b.localeCompare(a))
              .join("")
          );
          let minor = Number(
            kaNum
              .split("")
              .sort((a, b) => a.localeCompare(b))
              .join("")
          );
          // Add a zero if our greater num isn't 4 digits longer
          if (greater < 1000) greater *= 10;

          let result = greater - minor;
          document.write(
            "<p>" + "Numero de iteraci√≥n: " + depth + " - " + result + "</p>"
          );
          Kaprekar(result.toString(), depth);
        }
      }

      btn.addEventListener("click", (e) => {
        document.write("<p>Numero introducido: " + numero.value + "</p>");
        Kaprekar(numero.value, 0);
      });

      //Hugo Hernandez Quimbay
    </script>
  </body>
</html>
